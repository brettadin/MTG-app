[2025-12-06 02:01:53] [INFO] [root:setup_logging] ================================================================================
[2025-12-06 02:01:53] [INFO] [root:setup_logging] Application logging initialized
[2025-12-06 02:01:53] [INFO] [root:setup_logging] Log level: INFO
[2025-12-06 02:01:53] [INFO] [root:setup_logging] Log file: logs/build_index.log
[2025-12-06 02:01:53] [INFO] [root:setup_logging] ================================================================================
[2025-12-06 02:01:53] [INFO] [__main__:build] ================================================================================
[2025-12-06 02:01:53] [INFO] [__main__:build] Starting index build process
[2025-12-06 02:01:53] [INFO] [__main__:build] ================================================================================
[2025-12-06 02:01:53] [INFO] [app.data_access.database:create_tables] Creating database schema...
[2025-12-06 02:01:54] [INFO] [app.data_access.database:_create_indexes] Creating database indexes...
[2025-12-06 02:01:54] [INFO] [app.data_access.database:_create_indexes] Database indexes created successfully
[2025-12-06 02:01:54] [INFO] [app.data_access.database:create_tables] Database schema created successfully
[2025-12-06 02:01:54] [INFO] [__main__:_load_sets] Loading sets...
[2025-12-06 02:02:13] [INFO] [__main__:_load_sets] Loaded 839 sets
[2025-12-06 02:02:13] [INFO] [__main__:_load_cards] Loading cards...
[2025-12-06 02:02:16] [INFO] [__main__:_insert_cards_batch] Loaded 10000 cards...
[2025-12-06 02:02:19] [INFO] [__main__:_insert_cards_batch] Loaded 20000 cards...
[2025-12-06 02:02:23] [INFO] [__main__:_insert_cards_batch] Loaded 30000 cards...
[2025-12-06 02:02:27] [INFO] [__main__:_insert_cards_batch] Loaded 40000 cards...
[2025-12-06 02:02:31] [INFO] [__main__:_insert_cards_batch] Loaded 50000 cards...
[2025-12-06 02:02:36] [INFO] [__main__:_insert_cards_batch] Loaded 60000 cards...
[2025-12-06 02:02:40] [INFO] [__main__:_insert_cards_batch] Loaded 70000 cards...
[2025-12-06 02:02:46] [INFO] [__main__:_insert_cards_batch] Loaded 80000 cards...
[2025-12-06 02:02:52] [INFO] [__main__:_insert_cards_batch] Loaded 90000 cards...
[2025-12-06 02:02:58] [INFO] [__main__:_insert_cards_batch] Loaded 100000 cards...
[2025-12-06 02:03:02] [INFO] [__main__:_load_cards] Loaded 107570 cards
[2025-12-06 02:03:02] [INFO] [__main__:_load_card_identifiers] Loading card identifiers...
[2025-12-06 02:03:15] [INFO] [__main__:_load_card_identifiers] Loaded 107570 card identifiers
[2025-12-06 02:03:15] [INFO] [__main__:_load_card_legalities] Loading card legalities...
[2025-12-06 02:03:16] [ERROR] [app.data_access.database:transaction] Transaction failed: NOT NULL constraint failed: card_legalities.format
[2025-12-06 02:03:16] [ERROR] [__main__:build] Index build failed: NOT NULL constraint failed: card_legalities.format
Traceback (most recent call last):
  File "C:\Code\mtg-app\MTG-app\scripts\build_index.py", line 68, in build
    self._load_card_legalities()
  File "C:\Code\mtg-app\MTG-app\scripts\build_index.py", line 303, in _load_card_legalities
    self._insert_legalities_batch(legalities_data)
  File "C:\Code\mtg-app\MTG-app\scripts\build_index.py", line 321, in _insert_legalities_batch
    self.db.execute_many(query, legalities_data)
  File "C:\Code\mtg-app\MTG-app\app\data_access\database.py", line 65, in execute_many
    cursor.executemany(query, params_list)
sqlite3.IntegrityError: NOT NULL constraint failed: card_legalities.format
[2025-12-06 02:03:16] [INFO] [app.data_access.database:close] Database connection closed
[2025-12-06 02:43:36] [INFO] [root:setup_logging] ================================================================================
[2025-12-06 02:43:36] [INFO] [root:setup_logging] Application logging initialized
[2025-12-06 02:43:36] [INFO] [root:setup_logging] Log level: INFO
[2025-12-06 02:43:36] [INFO] [root:setup_logging] Log file: logs/build_index.log
[2025-12-06 02:43:36] [INFO] [root:setup_logging] ================================================================================
[2025-12-06 02:43:36] [INFO] [__main__:build] ================================================================================
[2025-12-06 02:43:36] [INFO] [__main__:build] Starting index build process
[2025-12-06 02:43:36] [INFO] [__main__:build] ================================================================================
[2025-12-06 02:43:36] [INFO] [app.data_access.database:create_tables] Creating database schema...
[2025-12-06 02:43:36] [INFO] [app.data_access.database:_create_indexes] Creating database indexes...
[2025-12-06 02:43:36] [INFO] [app.data_access.database:_create_indexes] Database indexes created successfully
[2025-12-06 02:43:36] [INFO] [app.data_access.database:create_tables] Database schema created successfully
[2025-12-06 02:43:36] [INFO] [__main__:_load_sets] Loading sets...
[2025-12-06 02:43:45] [INFO] [__main__:_load_sets] Loaded 839 sets
[2025-12-06 02:43:45] [INFO] [__main__:_load_cards] Loading cards...
[2025-12-06 02:43:52] [INFO] [__main__:_insert_cards_batch] Loaded 10000 cards...
[2025-12-06 02:43:59] [INFO] [__main__:_insert_cards_batch] Loaded 20000 cards...
[2025-12-06 02:44:06] [INFO] [__main__:_insert_cards_batch] Loaded 30000 cards...
[2025-12-06 02:44:13] [INFO] [__main__:_insert_cards_batch] Loaded 40000 cards...
[2025-12-06 02:44:20] [INFO] [__main__:_insert_cards_batch] Loaded 50000 cards...
[2025-12-06 02:44:28] [INFO] [__main__:_insert_cards_batch] Loaded 60000 cards...
[2025-12-06 02:44:35] [INFO] [__main__:_insert_cards_batch] Loaded 70000 cards...
[2025-12-06 02:44:43] [INFO] [__main__:_insert_cards_batch] Loaded 80000 cards...
[2025-12-06 02:44:49] [INFO] [__main__:_insert_cards_batch] Loaded 90000 cards...
[2025-12-06 02:44:55] [INFO] [__main__:_insert_cards_batch] Loaded 100000 cards...
[2025-12-06 02:45:00] [INFO] [__main__:_load_cards] Loaded 107570 cards
[2025-12-06 02:45:00] [INFO] [__main__:_load_card_identifiers] Loading card identifiers...
[2025-12-06 02:45:18] [INFO] [__main__:_load_card_identifiers] Loaded 107570 card identifiers
[2025-12-06 02:45:18] [INFO] [__main__:_load_card_legalities] Loading card legalities...
[2025-12-06 02:45:18] [ERROR] [app.data_access.database:transaction] Transaction failed: NOT NULL constraint failed: card_legalities.format
[2025-12-06 02:45:18] [ERROR] [__main__:build] Index build failed: NOT NULL constraint failed: card_legalities.format
Traceback (most recent call last):
  File "C:\Code\mtg-app\MTG-app\scripts\build_index.py", line 68, in build
    self._load_card_legalities()
  File "C:\Code\mtg-app\MTG-app\scripts\build_index.py", line 303, in _load_card_legalities
    self._insert_legalities_batch(legalities_data)
  File "C:\Code\mtg-app\MTG-app\scripts\build_index.py", line 321, in _insert_legalities_batch
    self.db.execute_many(query, legalities_data)
  File "C:\Code\mtg-app\MTG-app\app\data_access\database.py", line 65, in execute_many
    cursor.executemany(query, params_list)
sqlite3.IntegrityError: NOT NULL constraint failed: card_legalities.format
[2025-12-06 02:45:18] [INFO] [app.data_access.database:close] Database connection closed
